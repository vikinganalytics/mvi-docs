

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Software Development Kit &mdash; Multiviz Integrator  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="Command-line Interface" href="cli.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/VA_Symbol_DarkBlue.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/mvi_description.html">MultiViz Integrator</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/first_service.html">Deploying Your First Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/custom_service.html">Creating Your Own service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/dashboard.html">Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/autodocs.html">API Autodocs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/shadow_deployment.html">Versioning and Shadow Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/reaching_service_from_external_applications.html">Reaching a service from external applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/ticker.html">Schedule Repeating Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/monitoring.html">Monitoring Your Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/cross_service_communication.html">Cross-service Communication</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../advanced_tutorials/deploying_ml_model.html">Deploying Machine Learning Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_tutorials/sdk_typing.html">Typing in the SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_tutorials/using_multiple_hosts.html">Using Multiple Hosts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_tutorials/email_notifications.html">Email Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_tutorials/cli_deploy.html">Deployment Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_tutorials/cli_autocompletion.html">Autocompletion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_tutorials/manager_https.html">Secure Manager Connection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_tutorials/manager_env_vars.html">Manager Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_tutorials/proxy_dashboard.html">Proxy Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_tutorials/integration_with_other_tools.html">Connecting MVI with Other Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_tutorials/ui_streamlit.html">Service with Graphical User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_tutorials/going_beyond_sdk.html">Going Beyond the SDK</a></li>
</ul>
<p class="caption"><span class="caption-text">Api Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command-line Interface</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Software Development Kit</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Multiviz Integrator</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Software Development Kit</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/content/api_reference/sdk.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-mvi.mvi">
<span id="software-development-kit"></span><span id="sdk-reference"></span><h1>Software Development Kit<a class="headerlink" href="#module-mvi.mvi" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="mvi.mvi.MviService">
<em class="property">class </em><code class="sig-prename descclassname">mvi.mvi.</code><code class="sig-name descname">MviService</code><a class="headerlink" href="#mvi.mvi.MviService" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="mvi.mvi.MviService.add_parameter">
<code class="sig-name descname">add_parameter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parameter</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">value</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">monitor</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mvi.mvi.MviService.add_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a parameter to the parameter endpoints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parameter</strong> (<em>str</em>) – The name of the parameter</p></li>
<li><p><strong>value</strong> – (Any): The value of the parameter</p></li>
<li><p><strong>monitor</strong> (<em>bool</em>) – Whether or not to track this parameter for monitoring.
If true, the value of this parameter will be saved when changed.
Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The parameter and its value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mvi.mvi.MviService.call_every">
<code class="sig-name descname">call_every</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">seconds</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">wait_first</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mvi.mvi.MviService.call_every" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a decorator that converts a function to an awaitable that runs
every <cite>seconds</cite>.</p>
<p>Decorate a function with this method to make it run repeatedly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@mvi</span><span class="o">.</span><span class="n">call_every</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_function</span><span class="p">():</span>
    <span class="o">....</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seconds</strong> (<em>float</em>) – Interval between calls in seconds</p></li>
<li><p><strong>wait_first</strong> (<em>bool</em>) – If we should skip the first execution. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The decorator</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mvi.mvi.MviService.entrypoint">
<code class="sig-name descname">entrypoint</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">monitor</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">fastapi_kwargs</span></em><span class="sig-paren">)</span> &#x2192; Callable<a class="headerlink" href="#mvi.mvi.MviService.entrypoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a function as an entrypoint, which will make it reachable
as an HTTP method on your host machine.</p>
<p>Decorate a function with this method to create an entrypoint for it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@mvi</span><span class="o">.</span><span class="n">entrypoint</span>
<span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">arg1</span><span class="p">:</span><span class="n">type1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">type2</span><span class="p">:</span>
    <span class="o">....</span>
</pre></div>
</div>
<p>It is strongly recommended to include types of the arguments and return
objects for the decorated function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>Callable</em>) – The decorated function to make an entrypoint for.</p></li>
<li><p><strong>monitor</strong> (<em>bool</em>) – Set if the input and output to this entrypoint should
be saved to the service’s monitoring database.</p></li>
<li><p><strong>**fastapi_kwargs</strong> – Keyword arguments for the resulting API endpoint.
See FastAPI for keyword arguments of the <code class="docutils literal notranslate"><span class="pre">FastAPI.post()</span></code> function.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>TypeError</strong> – If <code class="xref py py-obj docutils literal notranslate"><span class="pre">func</span></code> is not callable.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The decorated function: <code class="xref py py-obj docutils literal notranslate"><span class="pre">func</span></code>.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mvi.mvi.MviService.get_all_parameters">
<code class="sig-name descname">get_all_parameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; dict<a class="headerlink" href="#mvi.mvi.MviService.get_all_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all registered parameter endpoints</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The registered parameters and their current value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mvi.mvi.MviService.get_parameter">
<code class="sig-name descname">get_parameter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parameter</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; Any<a class="headerlink" href="#mvi.mvi.MviService.get_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get specific parameter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parameter</strong> (<em>str</em>) – The name of the parameter</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The value of the parameter</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mvi.mvi.MviService.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mvi.mvi.MviService.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the service</p>
<p>This method is usually called at the end of the module when all
entrypoints etc for the service has been specified</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mvi.mvi.Severity">
<em class="property">class </em><code class="sig-prename descclassname">mvi.mvi.</code><code class="sig-name descname">Severity</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mvi.mvi.Severity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt id="mvi.mvi.Severity.CRITICAL">
<code class="sig-name descname">CRITICAL</code><em class="property"> = 2</em><a class="headerlink" href="#mvi.mvi.Severity.CRITICAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mvi.mvi.Severity.INFO">
<code class="sig-name descname">INFO</code><em class="property"> = 0</em><a class="headerlink" href="#mvi.mvi.Severity.INFO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mvi.mvi.Severity.WARNING">
<code class="sig-name descname">WARNING</code><em class="property"> = 1</em><a class="headerlink" href="#mvi.mvi.Severity.WARNING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mvi.mvi.call_service">
<code class="sig-prename descclassname">mvi.mvi.</code><code class="sig-name descname">call_service</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">service_name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">entrypoint_name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">arguments</span><span class="p">:</span> <span class="n">dict</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">service_version</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Any<a class="headerlink" href="#mvi.mvi.call_service" title="Permalink to this definition">¶</a></dt>
<dd><p>Call an entrypoint in a different service.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">call_service</span><span class="p">(</span>
    <span class="n">service_name</span><span class="o">=</span><span class="s2">&quot;data_connector&quot;</span><span class="p">,</span>
    <span class="n">entrypoint_name</span><span class="o">=</span> <span class="s2">&quot;get_data&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>service_name</strong> (<em>str</em>) – The service which contains the entrypoint to call.</p></li>
<li><p><strong>entrypoint_name</strong> (<em>str</em>) – The name of the entrypoint to call.
The return object(s) of this entrypoint must be jsonable, i.e pass FastAPI’s
jsonable_encoder, otherwise it won’t be reachable.</p></li>
<li><p><strong>arguments</strong> (<em>dict</em>) – Arguments to the entrypoint.
In the form: {“argument_name”: value, …}. Default None.</p></li>
<li><p><strong>service_version</strong> (<em>str</em>) – The specific version of the service to call.
Default None, the main version and the shadows versions will be called.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The output from the entrypoint in the other service.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mvi.mvi.get_authorized_domains">
<code class="sig-prename descclassname">mvi.mvi.</code><code class="sig-name descname">get_authorized_domains</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list<a class="headerlink" href="#mvi.mvi.get_authorized_domains" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of autorized domains for auth header</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of authorized domains</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mvi.mvi.get_headers">
<code class="sig-prename descclassname">mvi.mvi.</code><code class="sig-name descname">get_headers</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; dict<a class="headerlink" href="#mvi.mvi.get_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Generating headers for API calls</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Assembled header</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mvi.mvi.notify">
<code class="sig-prename descclassname">mvi.mvi.</code><code class="sig-name descname">notify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">severity</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#mvi.mvi.Severity" title="mvi.mvi.Severity">mvi.mvi.Severity</a></span></em>, <em class="sig-param"><span class="n">dashboard</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">emails</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">timer</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mvi.mvi.notify" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates and sends a notification</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> (<em>str</em>) – The message to include for the recipient of the notification.</p></li>
<li><p><strong>severity</strong> (<a class="reference internal" href="#mvi.mvi.Severity" title="mvi.mvi.Severity"><em>Severity</em></a>) – The severity of the notification.</p></li>
<li><p><strong>dashboard</strong> (<em>bool</em>) – If this is True, the notification will be shown
on the mvi dashboard. Defaults to True.</p></li>
<li><p><strong>emails</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of emails to send the notifications to.
Defaults to None, in which case no emails are sent</p></li>
<li><p><strong>timer</strong> (<em>int</em>) – The amount of time (in seconds) that has to pass
before the same notification can be send again. Defaults to 0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mvi.mvi.store">
<code class="sig-prename descclassname">mvi.mvi.</code><code class="sig-name descname">store</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">variables</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mvi.mvi.store" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves variables to the service’s monitoring database. Supports
integers, floats and strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**variables</strong> – Variables to save to the database.</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="cli.html" class="btn btn-neutral float-left" title="Command-line Interface" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Viking Analytics AB

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>